<div *ngIf="(dirQueue| directoryFilter: filterValue).length && getParamDir() | async as param">
  <div class="sub-menu">
  <span class="mat-h3">


    <span *ngIf="param != '/'">
      <span class="dir-prefix" title="Directory">
        Directory
      </span>
      {{ param }}
    </span>
    <span *ngIf="param == '/'">Directories</span>

  </span>
  </div>

  <div *ngFor="let dir of dirQueue | directoryFilter: filterValue">

    <div (click)="onRowClick(dir)"
         fxLayout="row nowrap"
         fxLayoutGap="1%"
         fxLayoutAlign="center center"
         class="dir-list-item">

      <mat-icon>folder_open</mat-icon>
      {{ dir.displayedPath }}
      <div fxFlex></div>
      <mat-icon
          class="chip clickable"
          title="Play directory"
          (click)="onPlayDir($event, dir.path)"
      >
        play_arrow
      </mat-icon>
      <mat-icon
          class="chip clickable"
          title="Add directory to queue"
          (click)="onAddDir($event, dir.path)"
      >
        add
      </mat-icon>
    </div>
  </div>

  <mat-divider *ngIf="param != '/' && dirQueue.length < 9"></mat-divider>

  <!-- Cover grid -->
  <div
      class="cover-grid"
      fxLayoutGap="0.4rem"
      fxLayout="row wrap"
      fxLayout.lt-md="column"
      *ngIf="param != '/' && dirQueue.length < 20"
  >
    <div
        fxLayoutAlign="center center"
        fxFlex="1 1 30%"
        *ngFor="let dir of dirQueue | directoryFilter: filterValue"
    >
      <mat-card
          class="cover-card"
          fxLayoutAlign="center center"
          fxLayout="column"
      >
        <mat-card-header>
          <mat-card-title [routerLink]="['/browse']"
                          [queryParams]="{ dir: dir.path }">
            {{ dir.displayedPath }}
          </mat-card-title>
        </mat-card-header>
        <img
            mat-card-image
            [ngClass]="[coverSizeClass|async]"
            [queryParams]="{ dir: dir.path }"
            [routerLink]="['/browse']"
            alt="Cover of {{dir.path}}"
            src="{{ dir.coverUrl }}"
        />
        <mat-card-footer>
          <div fxLayout="row">
            <mat-icon
                fxFlex="50%"
                class="chip clickable cover-card-btn"
                title="Add directory to queue"
                (click)="onAddDir($event, dir.path)"
            >
              add
            </mat-icon>
            <mat-icon
                fxFlex="50%"
                class="chip clickable cover-card-btn"
                title="Play directory"
                (click)="onPlayDir($event, dir.path)"
            >
              play_arrow
            </mat-icon>
          </div>

        </mat-card-footer>
      </mat-card>
    </div>
  </div>
</div>