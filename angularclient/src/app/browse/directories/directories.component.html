<div class="sub-menu">
  <span class="list-header mat-h3">
    <span *ngIf="getParamDir != '/'">
      <span class="dir-prefix" title="Directory">
        Dir:
      </span>
      {{ getParamDir }}
    </span>
    <span *ngIf="getParamDir == '/'">Directories</span>
  </span>
</div>

<mat-list
  role="list"
  *ngFor="let dir of dirQueue | directoryFilter: filterValue"
>
  <mat-list-item role="listitem" class="browse-list-item list-item">
    <div
      class="full-width cut-text"
      fxLayout="row"
      fxLayoutGap.gt-md="0.4rem"
      fxLayoutAlign="center center"
    >
      <div>
        <mat-icon>folder_open</mat-icon>
      </div>
      <div
        fxFlex="1 1 auto"
        [routerLink]="['/browse']"
        [queryParams]="{ dir: dir.path }"
        class="clickable flex-item"
      >
        {{ dir.displayedPath() }}
      </div>
      <div>
        <mat-icon
          class="chip clickable"
          title="Play directory"
          (click)="onPlayDir(dir.path)"
        >
          play_arrow
        </mat-icon>
      </div>
      <div>
        <mat-icon
          class="chip clickable"
          title="Add directory to queue"
          (click)="onAddDir(dir.path)"
        >
          add
        </mat-icon>
      </div>
    </div>
  </mat-list-item>
</mat-list>

<mat-divider *ngIf="getParamDir != '/' && dirQueue.length < 9"></mat-divider>

<div
  class="cover-grid"
  fxLayoutGap="0.4rem"
  fxLayout="row"
  fxLayout.lt-md="column"
  *ngIf="getParamDir != '/' && dirQueue.length < 9"
>
  <div
    fxLayoutAlign="center center"
    *ngFor="let dir of dirQueue | playlistFilter: filterValue"
  >
    <mat-card
      [routerLink]="['/browse']"
      [queryParams]="{ dir: dir.path }"
      class="cover-card"
    >
      <mat-card-header>
        <mat-card-title>{{ dir.displayedPath() }}</mat-card-title>
      </mat-card-header>
      <img
        mat-card-image
        src="{{ dir.coverUrl() }}"
        err-src="/assets/images/transparent.png"
      />
    </mat-card>
  </div>
</div>
