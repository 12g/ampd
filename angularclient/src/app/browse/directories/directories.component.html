<div class="sub-menu">
  <span class="list-header mat-h3">
    <span class="dir-prefix" title="Directory">Dir:</span>{{ getParamDir }}
  </span>
</div>

<mat-list
  role="list"
  *ngFor="let dir of dirQueue | directoryFilter: filterValue"
>
  <mat-list-item role="listitem" class="list-item">
    <div class="full-width" fxLayout="row" fxLayoutAlign="center center">
      <div>
        <mat-icon>folder_open</mat-icon>
      </div>
      <div
        fxFlex="1 1 auto"
        [routerLink]="['/browse']"
        [queryParams]="{ dir: dir.path }"
        class="clickable"
      >
        <span class="dir-text" title="{{ dir.fullDisplayedPath() }}">
          {{ dir.displayedPath() }}
        </span>
      </div>
      <div>
        <mat-icon
          class="chip clickable"
          title="Play directory"
          (click)="onPlayDir(dir.path)"
        >
          play_arrow
        </mat-icon>
      </div>
      <div>
        <mat-icon
          class="chip clickable"
          title="Add directory to queue"
          (click)="onAddDir(dir.path)"
        >
          add
        </mat-icon>
      </div>
    </div>
  </mat-list-item>
</mat-list>

<mat-divider *ngIf="getParamDir != '/' && dirQueue.length < 9"></mat-divider>

<div
  class="cover-grid"
  fxLayout="row"
  fxLayout.xs="column"
  *ngIf="getParamDir != '/' && dirQueue.length < 9"
>
  <div
    fxLayoutAlign="center center"
    *ngFor="let dir of dirQueue | playlistFilter: filterValue"
  >
    <mat-card
      [routerLink]="['/browse']"
      [queryParams]="{ dir: dir.path }"
      class="cover-card"
    >
      <mat-card-header>
        <mat-card-title>{{ dir.displayedPath() }}</mat-card-title>
      </mat-card-header>
      <img
        mat-card-image
        src="{{ dir.coverUrl() }}"
        err-src="/assets/images/transparent.png"
      />
    </mat-card>
  </div>
</div>
